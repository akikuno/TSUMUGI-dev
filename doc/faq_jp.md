# TSUMUGI FAQ（よくある質問）

## ネットワーク可視化

### Q: Phenotype Severityスライダーを9-10に設定しているのに、なぜ低いSeverityスコア（例：5.1/10）のノードが表示されるのですか？

**A:** これは意図された仕様です。極端なフィルター値を使用した場合でも、ネットワーク可視化に少なくとも1つの遺伝子ペアが表示されることを保証するための設計となっています。

Severityスライダーを非常に狭い範囲（9-10など）に設定すると、システムは自動的にフィルタリング範囲を調整し、以下を保証します：
- 少なくとも1つのエッジ（遺伝子間の接続）が表示される
- そのエッジで接続されたノード（遺伝子）が表示される

これにより、厳格なフィルターを適用した際にネットワークが完全に空になることを防ぎます。この実装（コードベースではIssue #72として参照）は、ランキングシステムを使用して最も関連性の高い遺伝子ペアを特定し、スライダーの設定に関わらずそれらが表示されることを保証します。

この設計選択は、フィルター条件が厳しすぎる場合でも空のネットワークを表示するのではなく、常に何らかの意味のある結果を表示することでユーザビリティを優先しています。

### Q: ノードをクリックした際、なぜ一部のツールチップではSeverityスコアが表示されないのですか？

**A:** Severityスコアは、表現型データに意味のある変動性がある場合にのみ表示されます。以下の場合にはSeverityスコアは表示されません：

1. **バイナリ表現型**: すべてのnode color値が0または1のみの場合（有無のみを表す）
2. **均一なSeverity**: すべてのノードがまったく同じSeverity値を持つ場合
3. **遺伝子中心のビュー**: 遺伝子特異的なネットワーク可視化で、表現型がバイナリであることが多い場合

これらの場合、Severityスコアは意味を持たないため、ツールチップから省略されます。この設計により、表現型の強度に関する定量的な情報を提供できる場合にのみSeverityスコアが表示されることを保証しています。

Severityスコアが利用可能な場合は、ノードのツールチップに「(Severity: X.X/10)」として表示されます。適用できない場合は、ツールチップにはSeverityスコアなしで表現型情報のみが表示されます。